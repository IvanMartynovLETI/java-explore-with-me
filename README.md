# Дополнительная функциональность

На данном этапе в дополнение к сервису статистики и основному функционалу реализована дополнительная функциональность в
виде комментариев.
API дополнительного сервиса резделены на две части:
* Публичная, доступная без регистрации любому пользователю сети и предоставляет возможности поиска комментариев как по
  идентификатору отдельного комментария, так и всех комментариев заданного события.
* Закрытая доступна только авторизованным пользователям и реализует возможности создания, редактирования и удаления своих
  комментариев.

#
API публичной части обеспечивает следующий функционал:
* Поиск комментария по его идентификатору.
* Поиск всех комментариев события с пагинацией и сортировкой по дате создания и редактирования.

#
API для авторизованных пользователей обеспечивает им возможность создания, редактирования и удаления
своих комментариев.

#
С целью реализации вышеописанного функционала был создан набор эндпойнтов:

</details>

<details><summary>Эндпойнты публичной части API:</summary>

* GET /commets/{commentId} - получение полной информации и комментарии по его идентификатору.
* GET /comments/events/{eventId} - получение списка комментариев к событию.

</details>

</details>

<details><summary>Эндпойнты закрытой части API:</summary>

* POST /users/{userId}/comments - создание комментария авторизованным пользователем.
* PATCH /users/{userId}/comments/{commentId} - редактирование авторизованным пользователем
  своего комментария.
* DELETE /users/{userId}/comments/{commentId}/delete - удаление авторизованным пользователем
  своего комментария.

</details>


# 
Приложение выполнено на основе микросервисной архитектуры и поднимается в четырех контейнерах:
main_container (основной сервис), main_db_container (БД основного сервиса), statistics_container (сервер статистики)
и statistics_db_container (БД сервиса статистики). Для запуска приложения необходио выполнить команды mvn clean install и
docker-compose up. Приложение доступно по адресу localhost:8080.

#
Проект реализован на Java 11 с использованием следующих технологий:
* Spring Boot
* Spring Framework
* JPA (Hibernate ORM)
* Lombok
* Maven
* PostgreSQL
* SLF4J
* Mockito
* Docker
* JUnit
* REST API

#
На данный момент полная схема базы данных приложения имеет следующий вид:

![Диаграмма базы данных](/full_db_diagram.png)

#
#Ссылка: 