# Основной сервис

На данном этапе реализован основной сервис, обеспечивающий основной функционал приложения.
API основного сервиса резделены на три части:
* Публичная, доступная без регистрации любому пользователю сети и предоставляет возможности поиска и фильтрации событий.
* Закрытая доступна только авторизованным пользователям и реализует возможности зарегистрированных пользователей продукта.
* Административная доступна для администратора сервиса и предоставляет возможности настройки и поддержки работы сервиса.

#
API публичной части обеспечивает следующий функционал:
* Сортировка списка событий организована либо по количеству просмотров, которое запрашивается в сервисе статистики, либо
  по датам событий.
* При просмотре списка событий возвращается только краткая информация о мероприятиях.
* Просмотр подробной информации о конкретном событии настраивается через отдельный эндпойнт.
* Каждое событие относится к какой-то из закрепленных в приложении категорий.
* Обеспечена возможность получения всех имеющихся категорий и подборок событий (подборки составляют администраторы ресурса).
* Каждый публичный запрос для получения списка событий или полной информации о мероприятии фиксируется сервисом статистики.

#
API для авторизованных пользователей обеспечивает следующий функционал:
* Авторизованные пользователи имеют возможность добавлять в приложение новые мероприятия, редактировать их и просматривать
  после добавления.
* Настроена подача заявок на участие в интересующих мероприятиях.
* Создатель мероприятия имеет возможность подтверждать заявки, отправленные другими пользователями сервиса.
#
API для администратора обеспечивает следующий функционал:
* Имеется возможность добавления, изменения и удаления категорий для событий.
* Реализована возможность добавления, удаления и закрепления на главной странице подборки мероприятий.
* Организована модерация событий, размещенных пользователями,-публикация или отклонение.
* Присутствует возможность управления пользователями-добавление, активация просмотр и удаление.

#
С целью реализации вышеописанного функционала был создан набор эндпойнтов, с которыми можно ознакомиться в
[спецификации основного сервиса](/ewm-main-service-spec.json)
# 
Приложение выполнено на основе микросервисной архитектуры и поднимается в четырех контейнерах:
main_container (основной сервис), main_db_container (БД основного сервиса), statistics_container (сервер статистики) 
и statistics_db_container (БД сервиса статистики). Для запуска приложения необходио выполнить команды mvn clean install и
docker-compose up. Приложение доступно по адресу localhost:8080.

#
Проект реализован на Java 11 с использованием следующих технологий:
* Spring Boot
* Spring Framework
* JPA (Hibernate ORM)
* Lombok
* Maven
* PostgreSQL
* SLF4J
* Mockito
* Docker
* JUnit
* REST API

#
На данный момент полная схема базы данных приложения имеет следующий вид:

![Диаграмма базы данных статистики](/main_svc_and_stats_db_diagram.png)
